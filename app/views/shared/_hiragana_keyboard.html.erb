<div data-controller="hiragana-keyboard" class="hiragana-keyboard">
  <% hiragana = [
    ["あ", "い", "う", "え", "お", "か", "き", "く", "け", "こ"],
    ["さ", "し", "す", "せ", "そ", "た", "ち", "つ", "て", "と"],
    ["な", "に", "ぬ", "ね", "の", "は", "ひ", "ふ", "へ", "ほ"],
    ["ま", "み", "む", "め", "も", "や", "ゆ", "よ", "ら", "り"],
    ["る", "れ", "ろ", "わ", "を", "ん"],
  ] %>
  <% dakuon = [
    ["が", "ぎ", "ぐ", "げ", "ご", "ざ", "じ", "ず", "ぜ", "ぞ"],
    ["だ", "ぢ", "づ", "で", "ど", "ば", "び", "ぶ", "べ", "ぼ"],
  ] %>
  <% special = [
    ["っ", "ゃ", "ゅ", "ょ"],
  ] %>

  <% (hiragana + dakuon + special).each do |row| %>
    <div class="hiragana-row">
      <% row.each do |char| %>
        <button type="button" class="hiragana-key <%= 'dakuon' if dakuon.flatten.include?(char) %> <%= 'special' if special.flatten.include?(char) %>" data-action="click->hiragana-keyboard#inputHiragana" data-hiragana-keyboard-target="key" data-character="<%= char %>">
          <%= char %>
        </button>
      <% end %>
    </div>
  <% end %>
</div>

<style>
  .hiragana-keyboard {
    display: flex;
    flex-direction: column;
    gap: 5px;
    margin-top: 20px;
  }
  .hiragana-row {
    display: flex;
    gap: 5px;
    justify-content: center;
  }
  .hiragana-key {
    padding: 5px;
    font-size: 16px;
    border: 1px solid #ccc;
    background-color: #f8f8f8;
    cursor: pointer;
    min-width: 30px;
  }
  .hiragana-key:hover {
    background-color: #e8e8e8;
  }
  .hiragana-key.dakuon {
    background-color: #e6f2ff;
  }
  .hiragana-key.special {
    background-color: #f9e6f2;
  }
  .hiragana-key.dakuon:hover {
    background-color: #ccebff;
  }
</style>